(this["webpackJsonpyoutube-react"]=this["webpackJsonpyoutube-react"]||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(14),s=n.n(r),i=n(11),o=n(3),u=n(17),d=n(38),l=n(36),j=n(18),p=n.n(j),b=n(4),h=n(1),O={popular:[],related:[],searched:[],selected:{},term:""},f=function(e,t){switch(t.type){case"SET_POPULAR":return Object(b.a)(Object(b.a)({},e),{},{popular:t.payload.popular});case"SET_RELATED":return Object(b.a)(Object(b.a)({},e),{},{related:t.payload.related});case"SET_SELECTED":return Object(b.a)(Object(b.a)({},e),{},{selected:t.payload.selected});case"SET_SEARCHED":return Object(b.a)(Object(b.a)({},e),{},{searched:t.payload.searched});case"SET_TERM":return Object(b.a)(Object(b.a)({},e),{},{term:t.payload.term});default:return e}},x=Object(a.createContext)({globalState:O,setGlobaloState:function(){return null}}),m=function(e){var t=e.children,n=Object(a.useReducer)(f,O),c=Object(u.a)(n,2),r=c[0],s=c[1];return Object(h.jsx)(x.Provider,{value:{globalState:r,setGlobalState:s},children:t})},v=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(o.f)(),s=Object(a.useContext)(x),j=s.globalState,b=s.setGlobalState;return Object(a.useEffect)((function(){c(j.term)}),[]),Object(h.jsxs)("div",{className:p.a.header,children:[Object(h.jsx)("div",{className:p.a.item,children:Object(h.jsx)(i.b,{to:"/",children:"VideoTube"})}),Object(h.jsx)("div",{className:p.a.item,children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b({type:"SET_TERM",payload:{term:n}}),r.push("/search?query=".concat(n))},children:[Object(h.jsx)("input",{type:"text",placeholder:"\u691c\u7d22",onChange:function(e){return c(e.target.value)},value:n}),Object(h.jsx)("button",{type:"submit",children:Object(h.jsx)(l.a,{icon:d.a})})]})})]})},_=n(24),S=n.n(_),y=function(e){var t=e.children;return Object(h.jsxs)("div",{className:S.a.wrapper,children:[Object(h.jsx)(v,{}),Object(h.jsx)("div",{className:S.a.main,children:t})]})},g=n(6),w=n.n(g),E=n(12),T=(n(103),n(39)),C=n.n(T).a.create({baseURL:"https://www.googleapis.com/youtube/v3"}),L={part:"snippet",maxResults:40,key:"AIzaSyCBvBunAgTv86_tFNuZ3sYXmLW01kMoWMY",regionCode:"JP",type:"video"},P=function(){var e=Object(E.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("/videos",{params:Object(b.a)(Object(b.a)({},L),{},{chart:"mostPopular"})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(E.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("videos",{params:Object(b.a)(Object(b.a)({},L),{},{id:t})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(E.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("/search",{params:Object(b.a)(Object(b.a)({},L),{},{q:t})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=n(40),k=n.n(R),D=function(e){var t=e.children;return Object(h.jsx)("div",{className:k.a.container,children:t})},G=n(41),A=n.n(G),V=function(e){var t=e.id,n=e.src,a=e.title;return Object(h.jsx)(i.b,{to:{pathname:"watch",search:"?v=".concat(t)},className:A.a.item,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:n,alt:a}),Object(h.jsx)("span",{children:a})]})})},F=function(){var e=Object(a.useContext)(x),t=e.globalState,n=e.setGlobalState;return Object(a.useEffect)((function(){P().then((function(e){console.log("data",e),n({type:"SET_POPULAR",payload:{popular:e.data.items}})}))}),[]),Object(h.jsx)(y,{children:Object(h.jsx)(D,{children:t.popular&&t.popular.map((function(e){return Object(h.jsx)(V,{id:e.id,src:e.snippet.thumbnails.default.url,title:e.snippet.title},e.id)}))})})},U=function(){var e=Object(a.useContext)(x),t=e.globalState,n=e.setGlobalState,c=Object(o.g)(),r=function(){var e=Object(E.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new URLSearchParams(c.search),a=t.get("query"),console.log(a),!a){e.next=6;break}return e.next=6,N(a).then((function(e){n({type:"SET_SEARCHED",payload:{searched:e.data.items}})}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){r()}),[c.search]),Object(h.jsx)(y,{children:Object(h.jsx)(D,{children:t.searched?t.searched.map((function(e){return Object(h.jsx)(V,{id:e.id.videoId,src:e.snippet.thumbnails.medium.url,title:e.snippet.title},e.id.videoId)})):Object(h.jsx)("span",{children:"no date"})})})},B=n(42),M=n(25),H=n.n(M),q=function(e){var t=e.id;return Object(h.jsx)("div",{className:H.a.wrap,children:Object(h.jsx)(B.a,{className:H.a.video,videoId:t})})},J=n(45),Y=n.n(J),W=n(46),X=n.n(W),z=function(){var e=Object(a.useContext)(x),t=e.globalState,n=e.setGlobalState,c=Object(o.g)(),r=function(){var e=Object(E.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(c.search),a=t.get("v"),e.next=4,I(a).then((function(e){var t=e.data.items.shift();n({type:"SET_SELECTED",payload:{selected:t}}),console.log("res",e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){r()}),[c.search]),t.selected&&t.selected.id?Object(h.jsxs)("div",{className:Y.a.wrap,children:[Object(h.jsx)(q,{id:t.selected.id}),Object(h.jsx)("p",{children:t.selected.snippet.title}),Object(h.jsx)("hr",{}),Object(h.jsx)(X.a,{children:Object(h.jsx)("pre",{children:t.selected.snippet.description})})]}):Object(h.jsx)("span",{children:" nodate"})},Z=n(26),K=n.n(Z),Q=function(e){var t=e.id,n=e.src,a=e.title;return Object(h.jsxs)(i.b,{className:K.a.item,to:{pathname:"watch",search:"?v=".concat(t)},children:[Object(h.jsx)("img",{src:n,alt:a}),Object(h.jsx)("div",{className:K.a.info,children:Object(h.jsx)("span",{children:a})})]})},$=n(47),ee=n.n($),te=function(){var e=Object(a.useContext)(x).globalState;return Object(h.jsx)("div",{className:ee.a.sidenav,children:e.related?e.related.map((function(e){return Object(h.jsx)(Q,{id:e.id.videoId,src:e.snippet.thumbnails.medium.url,title:e.snippet.title},e.id.videoId)})):Object(h.jsx)("span",{children:"no data "})})},ne=function(){return Object(h.jsxs)(y,{children:[Object(h.jsx)(z,{}),Object(h.jsx)(te,{})]})};var ae=function(){return Object(h.jsx)(i.a,{children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/",component:F}),Object(h.jsx)(o.a,{exact:!0,path:"/search",component:U}),Object(h.jsx)(o.a,{exact:!0,path:"/watch",component:ne})]})})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};n(101);s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(m,{children:Object(h.jsx)(ae,{})})}),document.getElementById("root")),ce()},18:function(e,t,n){e.exports={header:"Header_header__1v0yI",item:"Header_item__2VaIS"}},24:function(e,t,n){e.exports={wrapper:"Layout_wrapper__2dOTA",main:"Layout_main__3OBIG"}},25:function(e,t,n){e.exports={wrap:"VideoPlay_wrap__21ucX",video:"VideoPlay_video__2ekpd"}},26:function(e,t,n){e.exports={item:"SideListItem_item__b9PvY",info:"SideListItem_info__1xDCF"}},40:function(e,t,n){e.exports={container:"VideoGrid_container__1eUpe"}},41:function(e,t,n){e.exports={item:"VideoGridItem_item__2P63g"}},45:function(e,t,n){e.exports={wrap:"VideoDetail_wrap__2Cb5v"}},47:function(e,t,n){e.exports={sidenav:"SideList_sidenav__j1iTt"}}},[[102,1,2]]]);
//# sourceMappingURL=main.dbbecbc4.chunk.js.map